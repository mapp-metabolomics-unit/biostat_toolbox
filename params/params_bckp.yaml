mapp_project : mapp_project_00017
mapp_batch : mapp_batch_00044
met_annot_enhancer_folder : mapp_batch_00044
gnps_job_id : d53d09cdd2c04fd2961724cb136cfe61

dataset_experiment : 
  name: "mapp_batch_00044 LCMS metabolomics dataset"
  description: "Simon Blanchoud - Tunicate metabolomics"

ms_files_extension: ".mzML"

filenames:
  sirius_annotations: compound_identifications.tsv
  canopus_annotations: canopus_compound_summary.tsv
  gnps_graphml: e1369f2f08f041218f24d0cf4b085f7c.graphml


actions:
  scale_data : TRUE
  filter_sample_type : TRUE
  filter_sample_metadata_one : TRUE
  filter_sample_metadata_two : FALSE
  filter_variable_metadata_one : FALSE
  filter_variable_metadata_two : FALSE
  filter_variable_metadata_annotated : FALSE
  filter_variable_metadata_num : FALSE
  filter_features : FALSE
  run_PLSDA : TRUE
  calculate_multi_series_fc : FALSE
  run_fc_treemaps : TRUE
  set_colors_manually : FALSE
  run_with_gap_filled: FALSE
  short_path : FALSE
  run_cytoscape_connector : TRUE


options:
  gnps_column_for_boxplots : 
    factor_name : 'process'


filter_sample_type :
  mode : 'include'
  factor_name : 'sample_type'
  levels :
   - 'BK' 
  #  - 'QC'

filter_sample_metadata_one :
  mode : 'include'
  factor_name : 'process'
  levels : 
      - 'Empty'
      - 'Food'
      # - 'X2'
      # - 'X3'


filter_sample_metadata_two :
  mode : 'exclude'
  factor_name : 'origin'
  levels :
      - 'CH'

filter_variable_metadata_one :
  mode : 'include'
  factor_name : 'npc_pathway_canopus'
  levels : '' # E.g. One of "Alkaloids", "Amino acids and Peptides", "Terpenoids", "Fatty acids", "Carbohydrates", "Polyketides", "Shikimates and Phenylpropanoids" for levels if you use factor_name : 'NPC.pathway_canopus'

filter_variable_metadata_two :
  mode : 'include'
  factor_name : 'npc_pathway_canopus'
  levels : 'Fatty acids' 


filter_variable_metadata_annotated :
  mode : 'exclude'
  factor_name : 'chebiasciiname_sirius'
  levels : 'NA'

filter_variable_metadata_num :
  mode : 'above'
  factor_name : 'confidencescore_sirius'
  level : 0.5


target:
  sample_metadata_header: "origin" # This variable will be used throughout the whole script as you can see
   ## XXX_simplified  for combined horizontally
  target_path_name: "origin"


colors:
  all:
   key:
      - 'zero'
      - 'one'
      # - 'two'
      # - 'NA'


   value:
      - "cadetblue" # 'X1'
      - "goldenrod" # 'X2'
      # - "darkolivegreen" # 'X3'
      # - "magenta" # NA (QC)



# Only colors without a numeric (for some reason iheatmapr appears to not like these)

# http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf
# https://r-charts.com/colors/
# https://colors.dopely.top/color-mixer/333399-50-cc9933-50
# https://www.colorhexa.com/483d8b
# 

# "aliceblue", "antiquewhite", "aquamarine", "azure", "beige", "bisque", "blanchedalmond",
# "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral",
# "cornflowerblue", "cornsilk", "crimson", "darkblue", "darkcyan", "darkgoldenrod",
# "darkgray", "darkgreen", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange",
# "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray",
# "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dodgerblue",
# "firebrick", "floralwhite", "forestgreen", "gainsboro", "ghostwhite", "gold", "goldenrod",
# "greenyellow", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender",
# "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan",
# "lightgoldenrodyellow", "lightgray", "lightgreen", "lightpink", "lightsalmon",
# "lightseagreen", "lightskyblue", "lightslategray", "lightsteelblue", "lightyellow",
# "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid",
# "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise",
# "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite",
# "navy", "oldlace", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod",
# "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink",
# "plum", "powderblue", "purple", "rosybrown", "royalblue", "saddlebrown", "salmon",
# "sandybrown", "seagreen", "seashell", "sienna", "skyblue", "slateblue", "slategray",
# "snow", "springgreen", "steelblue", "tan", "thistle", "tomato", "turquoise", "violet",
# "wheat", "whitesmoke", "yellowgreen"



# The data intensity (using DE_original, that is unscaled data) for all levels within the following list of factor_names will be meaned and outputted in their respective new columns. This can be usefull e.g. for pie charts groups used in Cytoscape.
to_mean:
  factor_name:
    - "origin"


# Here we can alter the original sample metadata file if the levels or factors have not been correctly defined in the initial file.
# First we work vertically (within a given SM column)
# The new levels will be named as follows: alphabetically ordered and separated by an underscore.
# E.g. if you choose to combine Ag and Ab the resulting level will be Ab_Ag. These will appear in a new column which will be name by the name of the original colum suffixed by '_simplified'



to_combine_vertically: 
  # column1: 
  #   factor_name: "attribute_code"
  #   groups:
  #     group1:
  #       levels: 
  #       - "B113"
  #       - "B108"
  #     group2: 
  #       levels:
  #       - "B54"
  #       - "B129"
  #       - "B130"
  #       - "B132"
  #       - "B126"
  #       - "B148"
  # # column2: 
  #   name: "sample_type"
  #   groups:
  #     group1:
  #       cols: 
  #       - "sample"
  #       - "QC"

# Then we work horizontally (across SM columns)
# This action is restricted to rows where sample_type == "sample"
# The levels are combined row-wise using _ as separator.
# The resulting column is named by the alphabetically ordered, _ separated, combination of the combined factor_names. (e.g. genotype_period)


to_combine_horizontally:
  factor_name: 
    #  - "source_taxon"



multi_series:
  # colname: 'time.point'
  # points:
  #    - '00'
  #    - '04'
  #    - '08'
  #    - '12'
  #    - '16'
  #    - '20'


boxplot:
  topN : 16 # N for TopN boxplots to output 

posthoc:
  p_value: 0.05 # p-Value for filtering th RF inputs

heatmap:
  topN : 100 # N for TopN features to output in the heatmap


feature_to_filter :

